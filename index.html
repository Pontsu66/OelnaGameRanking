<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>OelnaGameRanking</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      text-align: center;
      padding: 40px;
    }
    h1 { margin-bottom: 10px; }
    .buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }
    button {
      background: #222;
      color: #fff;
      border: 2px solid #444;
      padding: 20px 30px;
      font-size: 18px;
      cursor: pointer;
      border-radius: 10px;
      width: 250px;
      height: 80px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      white-space: normal;
      word-wrap: break-word;
    }
    button:hover { background: #333; }
    #battleNumber { margin-top: 20px; font-size: 18px; }
    #progress { margin-top: 30px; font-size: 18px; }
  </style>
</head>
<body>

<h1>Game Ranking</h1>
<div id="instructions">
  Click on whichever game you prefer!<br>
  If you can’t decide, click “I feel the same way about both”.
</div>

<div class="buttons">
  <button id="leftBtn"></button>
  <button id="tieBtn">I feel the same way about both</button>
  <button id="rightBtn"></button>
</div>

<div id="battleNumber">Battle no. 1</div>
<div id="progress"></div>

<script>
  // --- Simple Oelna‑style logic ---

  const games = [
    "Clair Obscur: Expedition 33","Kingdom Come: Deliverance 2","Undertale","Deltarune","Portal 2","Silent Hill 2",
    "Assassin's Creed II","Assassin's Creed IV: Black Flag","Chrono Trigger","Alan Wake","Fable","Minecraft","Astro Bot",
    "Life is Strange","Stalker: Shadow of Chernobyl","Stalker 2: Heart of Chernobyl","Stalker: Call of Pripyat",
    "Phoenix Wright: Ace Attorney","Stardew Valley","The Binding of Isaac: Rebirth","Pokemon Gold/Silver/Crystal",
    "Pokemon Black 2/White 2","Pokemon Ruby/Sapphire/Emerald","Pokemon HeartGold/SoulSilver","Bloodborne",
    "Batman: Arkham City","Castlevania: Symphony of the Night","Grand Theft Auto: San Andreas","Grand Theft Auto: Vice City",
    "Grand Theft Auto 5","The Legend of Zelda: A Link to the Past","The Legend of Zelda: Breath of the Wild",
    "The Legend of Zelda: Ocarina of Time","The Legend of Zelda: Wind Waker","The Legend of Zelda: Majora's Mask",
    "Half Life","Halo: Combat Evolved","Halo 3","Bioshock","Dragon Quest VIII: Journey of the Cursed King",
    "Dragon Quest XI: Echoes of an Elusive Age","Crash Bandicoot","Spyro the Dragon","Resident Evil 4",
    "Bioshock Infinite","Shadow of the Colossus","Phantasy Star IV: The End of the Millennium","Metal Gear Solid",
    "Kingdom Hearts 2","Metal Gear Solid 2: Sons of Liberty","Metal Gear Solid 3: Snake Eater","Metal Gear Solid 4: Guns of the Patriots",
    "Super Mario Bros. 3","Super Mario World","Super Mario Galaxy","Super Mario 64","Red Dead Redemption",
    "Red Dead Redemption 2","The Last of Us","The Last of Us Part II","Shining Force","Sonic The Hedgehog 2",
    "Sonic The Hedgehog 3","Metaphor: ReFantazio","Hollow Knight","Hollow Knight: Silksong","Dark Souls 3",
    "Dark Souls","Elden Ring","Baldur's Gate 3","Cyberpunk 2077","The Witcher 3: Wild Hunt",
    "The Witcher 2: Assassins of Kings","Fallout: New Vegas","Fallout 3","Vampire Survivors","Borderlands 2",
    "Death Stranding","Ghost of Tsushima","The Elder Scrolls IV: Oblivion","The Elder Scrolls V: Skyrim",
    "Divinity: Original Sin 2","Mass Effect","Mass Effect 2","Mass Effect 3","Thief: Deadly Shadows",
    "Persona 5 Royal","Persona 4 Golden","Persona 3","Disco Elysium","Final Fantasy IX","Final Fantasy X",
    "Final Fantasy VIII","Final Fantasy VII","Final Fantasy VI","God of War (2018)","God of War Ragnarök"
  ];

  const stats = {};
  games.forEach(g => stats[g] = { wins: 0 });

  let totalBattles = 0;
  let currentWinner = null;
  let currentPair = [];

  const leftBtn = document.getElementById('leftBtn');
  const rightBtn = document.getElementById('rightBtn');
  const tieBtn = document.getElementById('tieBtn');
  const battleNumberDiv = document.getElementById('battleNumber');
  const progressDiv = document.getElementById('progress');

  function rand(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

  function pickPair() {
    if (currentWinner === null) {
      // first pick or tie → just pick random
      let a, b;
      do {
        a = rand(games);
        b = rand(games);
      } while (a === b);
      currentPair = [a, b];
    } else {
      // winner stays, pick new opponent
      let opponent;
      do {
        opponent = rand(games);
      } while (opponent === currentWinner);
      currentPair = [currentWinner, opponent];
    }
    leftBtn.textContent = currentPair[0];
    rightBtn.textContent = currentPair[1];
  }

  function updateProgress() {
    progressDiv.textContent = `Battles done: ${totalBattles}`;
    battleNumberDiv.textContent = `Battle no. ${totalBattles + 1}`;
  }

  function showFinalRanking() {
    leftBtn.style.display = rightBtn.style.display = tieBtn.style.display = 'none';
    const sorted = Object.keys(stats).sort((a,b) => stats[b].wins - stats[a].wins);
    progressDiv.innerHTML = '<h2>Final Ranking</h2><ol>' +
      sorted.map(g => `<li>${g} (${stats[g].wins} wins)</li>`).join('') +
      '</ol>';
    battleNumberDiv.textContent = '';
  }

  function vote(winner) {
    stats[winner].wins++;
    currentWinner = winner;
    totalBattles++;
    if (totalBattles >= 350) {
      showFinalRanking();
    } else {
      updateProgress();
      pickPair();
    }
  }

  leftBtn.onclick = () => vote(currentPair[0]);
  rightBtn.onclick = () => vote(currentPair[1]);
  tieBtn.onclick = () => {
    // tie resets winner so next pick is two random games
    currentWinner = null;
    totalBattles++;
    if (totalBattles >= 350) {
      showFinalRanking();
    } else {
      updateProgress();
      pickPair();
    }
  };

  // Initialize
  pickPair();
  updateProgress();
</script>

</body>
</html>
